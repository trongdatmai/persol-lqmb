{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Admin\\\\Desktop\\\\persol\\\\persol-lqmb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:\\\\Users\\\\Admin\\\\Desktop\\\\persol\\\\persol-lqmb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _slicedToArray from\"C:\\\\Users\\\\Admin\\\\Desktop\\\\persol\\\\persol-lqmb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Button,Card,CardBody,CardGroup,Col,Container,Form,Input,InputGroup,InputGroupAddon,InputGroupText,Row}from\"reactstrap\";import firebase from'./../../../config';import{useHistory,Link}from'react-router-dom';var styleExists={color:'#FF3300',display:'block'};var Login=function Login(){var history=useHistory();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),account=_useState2[0],setAccount=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),err=_useState4[0],setErr=_useState4[1];var handleLogin=function handleLogin(){var ref=firebase.database();ref.ref(\"users\").orderByChild(\"username\").equalTo(account.username).on(\"value\",function _callee(snapshot){var _Object$values,_Object$values2,acc;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(snapshot.val()===null){setErr(true);}else{_Object$values=Object.values(snapshot.val()),_Object$values2=_slicedToArray(_Object$values,1),acc=_Object$values2[0];if(acc.password===account.password){setErr(false);localStorage.setItem('account',JSON.stringify(account));history.push('/match/history-matchs');}else{setErr(true);}}case 1:case\"end\":return _context.stop();}}});});};return React.createElement(\"div\",{className:\"app flex-row align-items-center\"},React.createElement(Container,null,React.createElement(Row,{className:\"justify-content-center\"},React.createElement(Col,{md:\"8\"},React.createElement(CardGroup,null,React.createElement(Card,{className:\"p-4\"},React.createElement(CardBody,null,React.createElement(Form,null,React.createElement(\"h1\",null,\"Login\"),React.createElement(\"p\",{className:\"text-muted\"},\"Sign In to your account\"),React.createElement(\"p\",{style:err?styleExists:{display:'none'}},\"Login fail!\"),React.createElement(InputGroup,{className:\"mb-3\"},React.createElement(InputGroupAddon,{addonType:\"prepend\"},React.createElement(InputGroupText,null,React.createElement(\"i\",{className:\"icon-user\"}))),React.createElement(Input,{type:\"text\",placeholder:\"Username\",autoComplete:\"username\",value:setAccount.username,onChange:function onChange(_ref){var value=_ref.target.value;return setAccount(function(prev){return _objectSpread({},prev,{username:value});});}})),React.createElement(InputGroup,{className:\"mb-4\"},React.createElement(InputGroupAddon,{addonType:\"prepend\"},React.createElement(InputGroupText,null,React.createElement(\"i\",{className:\"icon-lock\"}))),React.createElement(Input,{type:\"password\",placeholder:\"Password\",autoComplete:\"current-password\",value:setAccount.password,onChange:function onChange(_ref2){var value=_ref2.target.value;return setAccount(function(prev){return _objectSpread({},prev,{password:value});});}})),React.createElement(Row,null,React.createElement(Col,{xs:\"6\"},React.createElement(Button,{color:\"primary\",className:\"px-4\",onClick:handleLogin},\"Login\")),React.createElement(Col,{xs:\"6\",className:\"text-right\"},React.createElement(Button,{color:\"link\",className:\"px-0\"},\"Forgot password?\"),React.createElement(Link,{to:\"/register\"},React.createElement(Button,{color:\"link\",className:\"px-0\"},\"Register Now\"))))))),React.createElement(Card,{className:\"text-white bg-primary py-5 d-md-down-none\",style:{width:\"44%\"}},React.createElement(CardBody,{className:\"text-center\"},React.createElement(\"div\",null,React.createElement(\"h2\",null,\"Sign up\"),React.createElement(\"p\",null,\"Sign up for an account if you don't already have one\"),React.createElement(Link,{to:\"/register\"},React.createElement(Button,{color:\"primary\",className:\"mt-3\",active:true,tabIndex:-1},\"Register Now!\"))))))))));};export default Login;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/persol/persol-lqmb/src/views/Pages/Login/Login.js"],"names":["React","useState","Button","Card","CardBody","CardGroup","Col","Container","Form","Input","InputGroup","InputGroupAddon","InputGroupText","Row","firebase","useHistory","Link","styleExists","color","display","Login","history","account","setAccount","err","setErr","handleLogin","ref","database","orderByChild","equalTo","username","on","snapshot","val","Object","values","acc","password","localStorage","setItem","JSON","stringify","push","value","target","prev","width"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport {\r\n  Button,\r\n  Card,\r\n  CardBody,\r\n  CardGroup,\r\n  Col,\r\n  Container,\r\n  Form,\r\n  Input,\r\n  InputGroup,\r\n  InputGroupAddon,\r\n  InputGroupText,\r\n  Row\r\n} from \"reactstrap\";\r\nimport firebase from './../../../config';\r\nimport { useHistory, Link } from 'react-router-dom';\r\nconst styleExists = { color: '#FF3300', display: 'block' }\r\n\r\nconst Login = () => {\r\n  const history = useHistory();\r\n  const [account, setAccount] = useState({});\r\n  const [err, setErr] = useState(false);\r\n  const handleLogin = () => {\r\n    const ref = firebase.database();\r\n    ref\r\n      .ref(\"users\")\r\n      .orderByChild(\"username\")\r\n      .equalTo(account.username)\r\n      .on(\"value\", async snapshot => {\r\n        if (snapshot.val() === null) {\r\n          setErr(true)\r\n        } else {\r\n          const [acc] = Object.values(snapshot.val())\r\n          if(acc.password === account.password) {\r\n            setErr(false)\r\n            localStorage.setItem('account', JSON.stringify(account));\r\n            history.push('/match/history-matchs');\r\n          } else {\r\n            setErr(true)\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  return (\r\n    <div className=\"app flex-row align-items-center\">\r\n      <Container>\r\n        <Row className=\"justify-content-center\">\r\n          <Col md=\"8\">\r\n            <CardGroup>\r\n              <Card className=\"p-4\">\r\n                <CardBody>\r\n                  <Form>\r\n                    <h1>Login</h1>\r\n                    <p className=\"text-muted\">Sign In to your account</p>\r\n                    <p style={err ? styleExists : {display: 'none'} } >Login fail!</p>\r\n                    <InputGroup className=\"mb-3\">\r\n                      <InputGroupAddon addonType=\"prepend\">\r\n                        <InputGroupText>\r\n                          <i className=\"icon-user\"></i>\r\n                        </InputGroupText>\r\n                      </InputGroupAddon>\r\n                      <Input\r\n                        type=\"text\"\r\n                        placeholder=\"Username\"\r\n                        autoComplete=\"username\"\r\n                        value={setAccount.username}\r\n                        onChange={({ target: {value}}) => setAccount(prev => ({...prev, username: value}))}\r\n                      />\r\n                    </InputGroup>\r\n                    <InputGroup className=\"mb-4\">\r\n                      <InputGroupAddon addonType=\"prepend\">\r\n                        <InputGroupText>\r\n                          <i className=\"icon-lock\"></i>\r\n                        </InputGroupText>\r\n                      </InputGroupAddon>\r\n                      <Input\r\n                        type=\"password\"\r\n                        placeholder=\"Password\"\r\n                        autoComplete=\"current-password\"\r\n                        value={setAccount.password}\r\n                        onChange={({ target: {value}}) => setAccount(prev => ({...prev, password: value}))}\r\n                      />\r\n                    </InputGroup>\r\n                    <Row>\r\n                      <Col xs=\"6\">\r\n                        <Button color=\"primary\" className=\"px-4\" onClick={handleLogin}>\r\n                          Login\r\n                        </Button>\r\n                      </Col>\r\n                      <Col xs=\"6\" className=\"text-right\">\r\n                        <Button color=\"link\" className=\"px-0\">\r\n                          Forgot password?\r\n                        </Button>\r\n                        <Link to=\"/register\">\r\n                        <Button color=\"link\" className=\"px-0\">\r\n                          Register Now\r\n                        </Button>\r\n                    </Link>\r\n                        \r\n                      </Col>\r\n                    </Row>\r\n                  </Form>\r\n                </CardBody>\r\n              </Card>\r\n              <Card\r\n                className=\"text-white bg-primary py-5 d-md-down-none\"\r\n                style={{ width: \"44%\" }}\r\n              >\r\n                <CardBody className=\"text-center\">\r\n                  <div>\r\n                    <h2>Sign up</h2>\r\n                    <p>Sign up for an account if you don't already have one</p>\r\n                    <Link to=\"/register\">\r\n                      <Button\r\n                        color=\"primary\"\r\n                        className=\"mt-3\"\r\n                        active\r\n                        tabIndex={-1}\r\n                      >\r\n                        Register Now!\r\n                      </Button>\r\n                    </Link>\r\n                  </div>\r\n                </CardBody>\r\n              </Card>\r\n            </CardGroup>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}