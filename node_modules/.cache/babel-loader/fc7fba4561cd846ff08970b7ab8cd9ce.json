{"ast":null,"code":"import _toConsumableArray from\"/Users/maidat/Desktop/untitled folder/persol-lqmb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/maidat/Desktop/untitled folder/persol-lqmb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/maidat/Desktop/untitled folder/persol-lqmb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _slicedToArray from\"/Users/maidat/Desktop/untitled folder/persol-lqmb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Card,CardBody,CardHeader,Col,FormGroup,Input,Label,Row,Button,CardImg}from\"reactstrap\";import firebase from\"./../../config\";var base64Matcher=new RegExp(\"^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})$\");var Profile=function Profile(_ref){var changeStatusProgress=_ref.changeStatusProgress,changeState=_ref.changeState;var ref=firebase.database();var _useState=useState(JSON.parse(localStorage.getItem(\"account\")||\"{}\")),_useState2=_slicedToArray(_useState,2),account=_useState2[0],setAccount=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),keyAccount=_useState4[0],setKeyAccount=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isSave=_useState6[0],setSave=_useState6[1];useEffect(function(){changeStatusProgress(true);ref.ref(\"users\").orderByChild(\"username\").equalTo(account.username).on(\"value\",function(snapshot){if(snapshot.val()!==null){var _Object$values=Object.values(snapshot.val()),_Object$values2=_slicedToArray(_Object$values,1),acc=_Object$values2[0];setAccount(acc);setKeyAccount(Object.keys(snapshot.val()));}changeStatusProgress(false);});},[]);useEffect(function(){setSave(false);},[account]);var updateProfile=function updateProfile(){return _regeneratorRuntime.async(function updateProfile$(_context){while(1){switch(_context.prev=_context.next){case 0:changeStatusProgress(true);ref.ref().child(\"/users/\"+keyAccount).update(account,function(){setSave(true);changeState(account);changeStatusProgress(false);});case 2:case\"end\":return _context.stop();}}});};return React.createElement(Row,null,React.createElement(Col,{xs:\"12\",sm:\"12\"},React.createElement(Card,null,React.createElement(CardHeader,null,React.createElement(\"strong\",null,\"Profile\"),React.createElement(\"small\",null,\" Form\")),React.createElement(CardBody,null,React.createElement(FormGroup,null,React.createElement(Label,{htmlFor:\"company\"},\"Username\"),React.createElement(Input,{type:\"text\",readOnly:true,value:account.username})),React.createElement(FormGroup,null,React.createElement(Label,{htmlFor:\"Ingame\"},\"Ingame\"),React.createElement(Input,{type:\"text\",id:\"Ingame\",placeholder:\"PS.abcxyz\",value:account.ingame,onChange:function onChange(_ref2){var value=_ref2.target.value;return setAccount(function(prev){return _objectSpread({},prev,{ingame:value});});}})),React.createElement(FormGroup,{row:true},React.createElement(Col,{md:\"12\"},React.createElement(Label,null,\"Role\")),React.createElement(Col,{md:\"12\"},React.createElement(FormGroup,{check:true,className:\"checkbox\"},React.createElement(Input,{className:\"form-check-input\",type:\"checkbox\",id:\"Top\",checked:account.role&&account.role.some(function(i){return i===\"top\";}),onChange:function onChange(_ref3){var checked=_ref3.target.checked;return setAccount(function(prev){return checked?account.role&&account.role.length?_objectSpread({},prev,{role:[].concat(_toConsumableArray(account.role),[\"top\"])}):_objectSpread({},prev,{role:[\"top\"]}):_objectSpread({},prev,{role:_toConsumableArray(account.role).filter(function(i){return i!==\"top\";})});});}}),React.createElement(Label,{check:true,className:\"form-check-label\",htmlFor:\"Top\"},\"Top\")),React.createElement(FormGroup,{check:true,className:\"checkbox\"},React.createElement(Input,{className:\"form-check-input\",type:\"checkbox\",id:\"Jungle\",checked:account.role&&account.role.some(function(i){return i===\"jungle\";}),onChange:function onChange(_ref4){var checked=_ref4.target.checked;return setAccount(function(prev){return checked?account.role&&account.role.length?_objectSpread({},prev,{role:[].concat(_toConsumableArray(account.role),[\"jungle\"])}):_objectSpread({},prev,{role:[\"jungle\"]}):_objectSpread({},prev,{role:_toConsumableArray(account.role).filter(function(i){return i!==\"jungle\";})});});}}),React.createElement(Label,{check:true,className:\"form-check-label\",htmlFor:\"Jungle\"},\"Jungle\")),React.createElement(FormGroup,{check:true,className:\"checkbox\"},React.createElement(Input,{className:\"form-check-input\",type:\"checkbox\",id:\"Mid\",checked:account.role&&account.role.some(function(i){return i===\"mid\";}),onChange:function onChange(_ref5){var checked=_ref5.target.checked;return setAccount(function(prev){return checked?account.role&&account.role.length?_objectSpread({},prev,{role:[].concat(_toConsumableArray(account.role),[\"mid\"])}):_objectSpread({},prev,{role:[\"mid\"]}):_objectSpread({},prev,{role:_toConsumableArray(account.role).filter(function(i){return i!==\"mid\";})});});}}),React.createElement(Label,{check:true,className:\"form-check-label\",htmlFor:\"Mid\"},\"Mid\")),React.createElement(FormGroup,{check:true,className:\"checkbox\"},React.createElement(Input,{className:\"form-check-input\",type:\"checkbox\",id:\"Ad\",checked:account.role&&account.role.some(function(i){return i===\"ad\";}),onChange:function onChange(_ref6){var checked=_ref6.target.checked;return setAccount(function(prev){return checked?account.role&&account.role.length?_objectSpread({},prev,{role:[].concat(_toConsumableArray(account.role),[\"ad\"])}):_objectSpread({},prev,{role:[\"ad\"]}):_objectSpread({},prev,{role:_toConsumableArray(account.role).filter(function(i){return i!==\"ad\";})});});}}),React.createElement(Label,{check:true,className:\"form-check-label\",htmlFor:\"Ad\"},\"Ad\")),React.createElement(FormGroup,{check:true,className:\"checkbox\"},React.createElement(Input,{className:\"form-check-input\",type:\"checkbox\",id:\"Support\",checked:account.role&&account.role.some(function(i){return i===\"support\";}),onChange:function onChange(_ref7){var checked=_ref7.target.checked;return setAccount(function(prev){return checked?account.role&&account.role.length?_objectSpread({},prev,{role:[].concat(_toConsumableArray(account.role),[\"support\"])}):_objectSpread({},prev,{role:[\"support\"]}):_objectSpread({},prev,{role:_toConsumableArray(account.role).filter(function(i){return i!==\"support\";})});});}}),React.createElement(Label,{check:true,className:\"form-check-label\",htmlFor:\"Support\"},\"Support\")))),React.createElement(FormGroup,{row:true},React.createElement(Col,{md:\"12\"},React.createElement(Label,{htmlFor:\"select\"},\"Rank\")),React.createElement(Col,{xs:\"12\",md:\"12\"},React.createElement(Input,{type:\"select\",name:\"select\",id:\"select\",value:account.rank,onChange:function onChange(_ref8){var value=_ref8.target.value;return setAccount(function(prev){return _objectSpread({},prev,{rank:value});});}},React.createElement(\"option\",{value:\"\"},\"Please select\"),React.createElement(\"option\",{value:\"Bronze\"},\"Bronze\"),React.createElement(\"option\",{value:\"Silver\"},\"Silver\"),React.createElement(\"option\",{value:\"Gold\"},\"Gold\"),React.createElement(\"option\",{value:\"Platinum\"},\"Platinum\"),React.createElement(\"option\",{value:\"Diamond\"},\"Diamond\"),React.createElement(\"option\",{value:\"Veteran\"},\"Veteran\"),React.createElement(\"option\",{value:\"Master\"},\"Master\"),React.createElement(\"option\",{value:\"Challenger\"},\"Challenger\")))),React.createElement(FormGroup,null,React.createElement(Label,{htmlFor:\"Avatar\"},\"Avatar \"),React.createElement(\"small\",null,\"(Url)\"),React.createElement(Input,{type:\"text\",id:\"Avatar\",placeholder:\"https://pornhub.com/avatar/MariaOzawa\",value:account.avatar,onChange:function onChange(_ref9){var value=_ref9.target.value;return setAccount(function(prev){return _objectSpread({},prev,{avatar:value});});}}),account.avatar&&React.createElement(React.Fragment,null,React.createElement(\"br\",null),React.createElement(Label,{htmlFor:\"Avatar\"},\"Preview \"),React.createElement(\"br\",null),React.createElement(CardImg,{src:account.avatar,alt:\"avatar\",style:{width:\"200px\",border:\"5px solid rgba(0,0,0, .4)\"}}))),React.createElement(Row,null,React.createElement(Col,{col:\"6\",sm:\"4\",md:\"2\",className:\"mb-3 mb-xl-0\"},React.createElement(Button,{block:true,color:isSave?\"success\":\"primary\",disabled:isSave,onClick:updateProfile},isSave?\"Success ✓\":\"Save\")))))));};export default Profile;","map":{"version":3,"sources":["/Users/maidat/Desktop/untitled folder/persol-lqmb/src/components/Profile/index.js"],"names":["React","useState","useEffect","Card","CardBody","CardHeader","Col","FormGroup","Input","Label","Row","Button","CardImg","firebase","base64Matcher","RegExp","Profile","changeStatusProgress","changeState","ref","database","JSON","parse","localStorage","getItem","account","setAccount","keyAccount","setKeyAccount","isSave","setSave","orderByChild","equalTo","username","on","snapshot","val","Object","values","acc","keys","updateProfile","child","update","ingame","value","target","prev","role","some","i","checked","length","filter","rank","avatar","width","border"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Card,\n  CardBody,\n  CardHeader,\n  Col,\n  FormGroup,\n  Input,\n  Label,\n  Row,\n  Button,\n  CardImg\n} from \"reactstrap\";\nimport firebase from \"./../../config\";\n\nconst base64Matcher = new RegExp(\"^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})$\");\n\nconst Profile = ({ changeStatusProgress, changeState }) => {\n  const ref = firebase.database();\n  const [account, setAccount] = useState(\n    JSON.parse(localStorage.getItem(\"account\") || \"{}\")\n  );\n  const [keyAccount, setKeyAccount] = useState(\"\");\n  const [isSave, setSave] = useState(false);\n\n  useEffect(() => {\n    changeStatusProgress(true);\n    ref\n      .ref(\"users\")\n      .orderByChild(\"username\")\n      .equalTo(account.username)\n      .on(\"value\", snapshot => {\n        if (snapshot.val() !== null) {\n          const [acc] = Object.values(snapshot.val());\n          setAccount(acc);\n          setKeyAccount(Object.keys(snapshot.val()));\n        }\n        changeStatusProgress(false);\n      });\n  }, []);\n\n  useEffect(() => {\n    setSave(false);\n  }, [account]);\n\n  const updateProfile = async () => {\n    changeStatusProgress(true);\n    ref\n      .ref()\n      .child(\"/users/\" + keyAccount)\n      .update(account, () => {\n        setSave(true);\n        changeState(account);\n        changeStatusProgress(false);\n      });\n  };\n\n  return (\n    <Row>\n      <Col xs=\"12\" sm=\"12\">\n        <Card>\n          <CardHeader>\n            <strong>Profile</strong>\n            <small> Form</small>\n          </CardHeader>\n          <CardBody>\n            <FormGroup>\n              <Label htmlFor=\"company\">Username</Label>\n              <Input type=\"text\" readOnly={true} value={account.username} />\n            </FormGroup>\n            <FormGroup>\n              <Label htmlFor=\"Ingame\">Ingame</Label>\n              <Input\n                type=\"text\"\n                id=\"Ingame\"\n                placeholder=\"PS.abcxyz\"\n                value={account.ingame}\n                onChange={({ target: { value } }) =>\n                  setAccount(prev => ({\n                    ...prev,\n                    ingame: value\n                  }))\n                }\n              />\n            </FormGroup>\n            <FormGroup row>\n              <Col md=\"12\">\n                <Label>Role</Label>\n              </Col>\n              <Col md=\"12\">\n                <FormGroup check className=\"checkbox\">\n                  <Input\n                    className=\"form-check-input\"\n                    type=\"checkbox\"\n                    id=\"Top\"\n                    checked={\n                      account.role && account.role.some(i => i === \"top\")\n                    }\n                    onChange={({ target: { checked } }) =>\n                      setAccount(prev =>\n                        checked\n                          ? account.role && account.role.length\n                            ? ({ ...prev, role: [...account.role, \"top\"] })\n                            : ({ ...prev, role: [\"top\"] })\n                          : ({\n                              ...prev,\n                              role: [...account.role].filter(i => i !== \"top\")\n                            })\n                      )\n                    }\n                  />\n                  <Label check className=\"form-check-label\" htmlFor=\"Top\">\n                    Top\n                  </Label>\n                </FormGroup>\n                <FormGroup check className=\"checkbox\">\n                  <Input\n                    className=\"form-check-input\"\n                    type=\"checkbox\"\n                    id=\"Jungle\"\n                    checked={\n                      account.role && account.role.some(i => i === \"jungle\")\n                    }\n                    onChange={({ target: { checked } }) =>\n                    setAccount(prev =>\n                        checked\n                          ? account.role && account.role.length\n                            ? ({ ...prev, role: [...account.role, \"jungle\"] })\n                            : ({ ...prev, role: [\"jungle\"] })\n                          : ({\n                              ...prev,\n                              role: [...account.role].filter(i => i !== \"jungle\")\n                            })\n                      )\n                    }\n                  />\n                  <Label check className=\"form-check-label\" htmlFor=\"Jungle\">\n                    Jungle\n                  </Label>\n                </FormGroup>\n                <FormGroup check className=\"checkbox\">\n                  <Input\n                    className=\"form-check-input\"\n                    type=\"checkbox\"\n                    id=\"Mid\"\n                    checked={\n                      account.role && account.role.some(i => i === \"mid\")\n                    }\n                    onChange={({ target: { checked } }) =>\n                    setAccount(prev =>\n                        checked\n                          ? account.role && account.role.length\n                            ? ({ ...prev, role: [...account.role, \"mid\"] })\n                            : ({ ...prev, role: [\"mid\"] })\n                          : ({\n                              ...prev,\n                              role: [...account.role].filter(i => i !== \"mid\")\n                            })\n                      )\n                    }\n                  />\n                  <Label check className=\"form-check-label\" htmlFor=\"Mid\">\n                    Mid\n                  </Label>\n                </FormGroup>\n                <FormGroup check className=\"checkbox\">\n                  <Input\n                    className=\"form-check-input\"\n                    type=\"checkbox\"\n                    id=\"Ad\"\n                    checked={account.role && account.role.some(i => i === \"ad\")}\n                    onChange={({ target: { checked } }) =>\n                    setAccount(prev =>\n                        checked\n                          ? account.role && account.role.length\n                            ? ({ ...prev, role: [...account.role, \"ad\"] })\n                            : ({ ...prev, role: [\"ad\"] })\n                          : ({\n                              ...prev,\n                              role: [...account.role].filter(i => i !== \"ad\")\n                            })\n                      )\n                    }\n                  />\n                  <Label check className=\"form-check-label\" htmlFor=\"Ad\">\n                    Ad\n                  </Label>\n                </FormGroup>\n                <FormGroup check className=\"checkbox\">\n                  <Input\n                    className=\"form-check-input\"\n                    type=\"checkbox\"\n                    id=\"Support\"\n                    checked={\n                      account.role && account.role.some(i => i === \"support\")\n                    }\n                    onChange={({ target: { checked } }) =>\n                        setAccount(prev =>\n                            checked\n                            ? account.role && account.role.length\n                                ? ({ ...prev, role: [...account.role, \"support\"] })\n                                : ({ ...prev, role: [\"support\"] })\n                            : ({\n                                ...prev,\n                                role: [...account.role].filter(i => i !== \"support\")\n                                })\n                        )\n                    }\n                  />\n                  <Label check className=\"form-check-label\" htmlFor=\"Support\">\n                    Support\n                  </Label>\n                </FormGroup>\n              </Col>\n            </FormGroup>\n\n            <FormGroup row>\n              <Col md=\"12\">\n                <Label htmlFor=\"select\">Rank</Label>\n              </Col>\n              <Col xs=\"12\" md=\"12\">\n                <Input\n                  type=\"select\"\n                  name=\"select\"\n                  id=\"select\"\n                  value={account.rank}\n                  onChange={({ target: { value } }) =>\n                    setAccount(prev => ({ ...prev, rank: value }))\n                  }\n                >\n                  <option value=\"\">Please select</option>\n                  <option value=\"Bronze\">Bronze</option>\n                  <option value=\"Silver\">Silver</option>\n                  <option value=\"Gold\">Gold</option>\n                  <option value=\"Platinum\">Platinum</option>\n                  <option value=\"Diamond\">Diamond</option>\n                  <option value=\"Veteran\">Veteran</option>\n                  <option value=\"Master\">Master</option>\n                  <option value=\"Challenger\">Challenger</option>\n                </Input>\n              </Col>\n            </FormGroup>\n            <FormGroup>\n              <Label htmlFor=\"Avatar\">Avatar </Label>\n              <small>(Url)</small>\n              <Input\n                type=\"text\"\n                id=\"Avatar\"\n                placeholder=\"https://pornhub.com/avatar/MariaOzawa\"\n                value={account.avatar}\n                onChange={({ target: { value } }) =>\n                  setAccount(prev => ({\n                    ...prev,\n                    avatar: value\n                  }))\n                }\n              />\n              {account.avatar && (\n                <>\n                  <br />\n                  <Label htmlFor=\"Avatar\">Preview </Label>\n                  <br />\n                  <CardImg\n                    src={account.avatar}\n                    alt=\"avatar\"\n                    style={{\n                      width: \"200px\",\n                      border: \"5px solid rgba(0,0,0, .4)\"\n                    }}\n                  />\n                </>\n              )}\n            </FormGroup>\n            <Row>\n              <Col col=\"6\" sm=\"4\" md=\"2\" className=\"mb-3 mb-xl-0\">\n                <Button\n                  block\n                  color={isSave ? \"success\" : \"primary\"}\n                  disabled={isSave}\n                  onClick={updateProfile}\n                >\n                  {isSave ? \"Success ✓\" : \"Save\"}\n                </Button>\n              </Col>\n            </Row>\n          </CardBody>\n        </Card>\n      </Col>\n    </Row>\n  );\n};\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}