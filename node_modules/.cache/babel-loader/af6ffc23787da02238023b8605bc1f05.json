{"ast":null,"code":"import _regeneratorRuntime from \"/Users/maidat/Desktop/team-lq/persol-lqmb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"/Users/maidat/Desktop/team-lq/persol-lqmb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _asyncToGenerator from \"/Users/maidat/Desktop/team-lq/persol-lqmb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/maidat/Desktop/team-lq/persol-lqmb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/maidat/Desktop/team-lq/persol-lqmb/src/views/Pages/Register/Register.js\";\nimport React, { Component, useState } from \"react\";\nimport { Button, Card, CardBody, CardFooter, Col, Container, Form, Input, InputGroup, InputGroupAddon, InputGroupText, Row } from \"reactstrap\";\nimport firebase from 'firebase';\nimport admin from 'firebase-admin';\nvar styleErr = {\n  border: \"1px solid #FF3300\"\n};\n\nfunction validateEmail(email) {\n  var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n}\n\nfunction sleep(time) {\n  return new Promise(function (resolve) {\n    return setTimeout(resolve, time);\n  });\n}\n\nvar Register = function Register() {\n  var _useState = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    repPassword: \"\"\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      account = _useState2[0],\n      setAccout = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      err = _useState4[0],\n      setErr = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      disabled = _useState6[0],\n      setDisabled = _useState6[1];\n\n  var handleRegister =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var e;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e = false;\n\n              if (account.repPassword !== account.password || !account.password) {\n                setErr(function (prev) {\n                  return _objectSpread({}, prev, {\n                    password: true\n                  });\n                });\n                e = true;\n              }\n\n              if (!account.username && !account.username.trim()) {\n                setErr(function (prev) {\n                  return _objectSpread({}, prev, {\n                    username: true\n                  });\n                });\n                e = true;\n              }\n\n              if (!validateEmail(account.email)) {\n                setErr(function (prev) {\n                  return _objectSpread({}, prev, {\n                    email: true\n                  });\n                });\n                e = true;\n              }\n\n              if (!e) {\n                _context.next = 6;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 6:\n              _context.next = 8;\n              return setDisabled(true);\n\n            case 8:\n              _context.next = 10;\n              return setAccout(function (prev) {\n                return delete prev.repPassword;\n              });\n\n            case 10:\n              admin.firestore().collection('users').set(account); // firebase.auth().createUserWithEmailAndPassword(account.username, account.password)\n              //   .then(userData => {\n              //     const uid = userData.uid;\n              //     refUsers.push(uid);\n              //   })\n              //   .catch(e => console.log(e));\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleRegister() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return React.createElement(\"div\", {\n    className: \"app flex-row align-items-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(Row, {\n    className: \"justify-content-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(Col, {\n    md: \"9\",\n    lg: \"7\",\n    xl: \"6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(Card, {\n    className: \"mx-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(CardBody, {\n    className: \"p-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(Form, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"Register\"), React.createElement(\"p\", {\n    className: \"text-muted\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"Create your account\"), React.createElement(InputGroup, {\n    className: \"mb-3\",\n    style: err.username ? styleErr : {},\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(InputGroupAddon, {\n    addonType: \"prepend\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(InputGroupText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"icon-user\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }))), React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"Username\",\n    autoComplete: \"username\",\n    value: account.username,\n    onChange: function onChange(_ref2) {\n      var value = _ref2.target.value;\n      setAccout(function (prev) {\n        return _objectSpread({}, prev, {\n          username: value\n        });\n      });\n      setErr(function (prev) {\n        return _objectSpread({}, prev, {\n          username: false\n        });\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  })), React.createElement(InputGroup, {\n    className: \"mb-3\",\n    style: err.email ? styleErr : {},\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(InputGroupAddon, {\n    addonType: \"prepend\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(InputGroupText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, \"@\")), React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"Email\",\n    autoComplete: \"email\",\n    value: account.email,\n    onChange: function onChange(_ref3) {\n      var value = _ref3.target.value;\n      setAccout(function (prev) {\n        return _objectSpread({}, prev, {\n          email: value\n        });\n      });\n      setErr(function (prev) {\n        return _objectSpread({}, prev, {\n          email: false\n        });\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  })), React.createElement(InputGroup, {\n    className: \"mb-3\",\n    style: err.password ? styleErr : {},\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(InputGroupAddon, {\n    addonType: \"prepend\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(InputGroupText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"icon-lock\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }))), React.createElement(Input, {\n    type: \"password\",\n    placeholder: \"Password\",\n    autoComplete: \"new-password\",\n    value: account.password,\n    onChange: function onChange(_ref4) {\n      var value = _ref4.target.value;\n      setAccout(function (prev) {\n        return _objectSpread({}, prev, {\n          password: value\n        });\n      });\n      setErr(function (prev) {\n        return _objectSpread({}, prev, {\n          password: false\n        });\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  })), React.createElement(InputGroup, {\n    className: \"mb-4\",\n    style: err.password ? styleErr : {},\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, React.createElement(InputGroupAddon, {\n    addonType: \"prepend\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, React.createElement(InputGroupText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"icon-lock\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }))), React.createElement(Input, {\n    type: \"password\",\n    placeholder: \"Repeat password\",\n    autoComplete: \"new-password\",\n    value: account.repPassword,\n    onChange: function onChange(_ref5) {\n      var value = _ref5.target.value;\n      setAccout(function (prev) {\n        return _objectSpread({}, prev, {\n          repPassword: value\n        });\n      });\n      setErr(function (prev) {\n        return _objectSpread({}, prev, {\n          password: false\n        });\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  })), React.createElement(Button, {\n    color: \"success\",\n    block: true,\n    onClick: handleRegister,\n    disabled: disabled,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, \"Create Account\"))), React.createElement(CardFooter, {\n    className: \"p-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, React.createElement(Col, {\n    xs: \"12\",\n    sm: \"6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, React.createElement(Button, {\n    className: \"btn-facebook mb-1\",\n    block: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }, \"facebook\"))), React.createElement(Col, {\n    xs: \"12\",\n    sm: \"6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }, React.createElement(Button, {\n    className: \"btn-twitter mb-1\",\n    block: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, \"twitter\"))))))))));\n};\n\nexport default Register;","map":{"version":3,"sources":["/Users/maidat/Desktop/team-lq/persol-lqmb/src/views/Pages/Register/Register.js"],"names":["React","Component","useState","Button","Card","CardBody","CardFooter","Col","Container","Form","Input","InputGroup","InputGroupAddon","InputGroupText","Row","firebase","admin","styleErr","border","validateEmail","email","re","test","String","toLowerCase","sleep","time","Promise","resolve","setTimeout","Register","username","password","repPassword","account","setAccout","err","setErr","disabled","setDisabled","handleRegister","e","prev","trim","firestore","collection","set","value","target"],"mappings":"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","sourcesContent":["import React, { Component, useState } from \"react\";\nimport {\n  Button,\n  Card,\n  CardBody,\n  CardFooter,\n  Col,\n  Container,\n  Form,\n  Input,\n  InputGroup,\n  InputGroupAddon,\n  InputGroupText,\n  Row\n} from \"reactstrap\";\nimport firebase from 'firebase';\nimport admin from 'firebase-admin';\n\nconst styleErr = { border: \"1px solid #FF3300\" };\n\nfunction validateEmail(email) {\n  var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n}\nfunction sleep(time) {\n  return new Promise(resolve => setTimeout(resolve, time));\n}\nconst Register = () => {\n  const [account, setAccout] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    repPassword: \"\"\n  });\n  const [err, setErr] = useState({});\n  const [disabled, setDisabled] = useState(false);\n  const handleRegister = async () => {\n    let e = false;\n    if (account.repPassword !== account.password || !account.password) {\n      setErr(prev => ({ ...prev, password: true }));\n      e = true;\n    }\n    if (!account.username && !account.username.trim()) {\n      setErr(prev => ({ ...prev, username: true }));\n      e = true;\n    }\n    if (!validateEmail(account.email)) {\n      setErr(prev => ({ ...prev, email: true }));\n      e = true;\n    }\n    if(e) return;\n    await setDisabled(true);\n    await setAccout(prev =>  delete prev.repPassword);\n\n    admin.firestore().collection('users').set(account);\n    // firebase.auth().createUserWithEmailAndPassword(account.username, account.password)\n    //   .then(userData => {\n    //     const uid = userData.uid;\n    //     refUsers.push(uid);\n    //   })\n    //   .catch(e => console.log(e));\n\n  };\n\n  return (\n    <div className=\"app flex-row align-items-center\">\n      <Container>\n        <Row className=\"justify-content-center\">\n          <Col md=\"9\" lg=\"7\" xl=\"6\">\n            <Card className=\"mx-4\">\n              <CardBody className=\"p-4\">\n                <Form>\n                  <h1>Register</h1>\n                  <p className=\"text-muted\">Create your account</p>\n                  <InputGroup\n                    className=\"mb-3\"\n                    style={err.username ? styleErr : {}}\n                  >\n                    <InputGroupAddon addonType=\"prepend\">\n                      <InputGroupText>\n                        <i className=\"icon-user\"></i>\n                      </InputGroupText>\n                    </InputGroupAddon>\n                    <Input\n                      type=\"text\"\n                      placeholder=\"Username\"\n                      autoComplete=\"username\"\n                      value={account.username}\n                      onChange={({ target: { value } }) => {\n                        setAccout(prev => ({ ...prev, username: value }));\n                        setErr(prev => ({ ...prev, username: false }));\n                      }}\n                    />\n                  </InputGroup>\n                  <InputGroup\n                    className=\"mb-3\"\n                    style={err.email ? styleErr : {}}\n                  >\n                    <InputGroupAddon addonType=\"prepend\">\n                      <InputGroupText>@</InputGroupText>\n                    </InputGroupAddon>\n                    <Input\n                      type=\"text\"\n                      placeholder=\"Email\"\n                      autoComplete=\"email\"\n                      value={account.email}\n                      onChange={({ target: { value } }) => {\n                        setAccout(prev => ({ ...prev, email: value }));\n                        setErr(prev => ({ ...prev, email: false }));\n                      }}\n                    />\n                  </InputGroup>\n                  <InputGroup\n                    className=\"mb-3\"\n                    style={err.password ? styleErr : {}}\n                  >\n                    <InputGroupAddon addonType=\"prepend\">\n                      <InputGroupText>\n                        <i className=\"icon-lock\"></i>\n                      </InputGroupText>\n                    </InputGroupAddon>\n                    <Input\n                      type=\"password\"\n                      placeholder=\"Password\"\n                      autoComplete=\"new-password\"\n                      value={account.password}\n                      onChange={({ target: { value } }) => {\n                        setAccout(prev => ({ ...prev, password: value }));\n                        setErr(prev => ({ ...prev, password: false }));\n                      }}\n                    />\n                  </InputGroup>\n                  <InputGroup\n                    className=\"mb-4\"\n                    style={err.password ? styleErr : {}}\n                  >\n                    <InputGroupAddon addonType=\"prepend\">\n                      <InputGroupText>\n                        <i className=\"icon-lock\"></i>\n                      </InputGroupText>\n                    </InputGroupAddon>\n                    <Input\n                      type=\"password\"\n                      placeholder=\"Repeat password\"\n                      autoComplete=\"new-password\"\n                      value={account.repPassword}\n                      onChange={({ target: { value } }) => {\n                        setAccout(prev => ({ ...prev, repPassword: value }));\n                        setErr(prev => ({ ...prev, password: false }));\n                      }}\n                    />\n                  </InputGroup>\n                  <Button color=\"success\" block onClick={handleRegister} disabled={disabled}>\n                    Create Account\n                  </Button>\n                </Form>\n              </CardBody>\n              <CardFooter className=\"p-4\">\n                <Row>\n                  <Col xs=\"12\" sm=\"6\">\n                    <Button className=\"btn-facebook mb-1\" block>\n                      <span>facebook</span>\n                    </Button>\n                  </Col>\n                  <Col xs=\"12\" sm=\"6\">\n                    <Button className=\"btn-twitter mb-1\" block>\n                      <span>twitter</span>\n                    </Button>\n                  </Col>\n                </Row>\n              </CardFooter>\n            </Card>\n          </Col>\n        </Row>\n      </Container>\n    </div>\n  );\n};\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}