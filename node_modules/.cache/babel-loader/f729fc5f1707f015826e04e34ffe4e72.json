{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\Admin\\\\Desktop\\\\persol\\\\persol-lqmb\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Admin\\\\Desktop\\\\persol\\\\persol-lqmb\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"C:\\\\Users\\\\Admin\\\\Desktop\\\\persol\\\\persol-lqmb\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"C:\\\\Users\\\\Admin\\\\Desktop\\\\persol\\\\persol-lqmb\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\persol\\\\persol-lqmb\\\\src\\\\components\\\\Dashboard\\\\index.js\";\nimport React, { useEffect, useState } from 'react';\nimport firebase from \"./../../config\";\nimport W1 from './components/W1';\nimport W2 from './components/W2';\n\nvar Dashboard = function Dashboard(_ref) {\n  var changeStatusProgress = _ref.changeStatusProgress;\n  var ref = firebase.database();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      account = _useState2[0],\n      setAccount = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      historyMatchs = _useState4[0],\n      setHistoryMatchs = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      fecthStatus = _useState6[0],\n      setFecthStatus = _useState6[1]; // useEffect(() => {\n\n\n  var a = _toConsumableArray(account).reduce(function (acc, cur) {\n    console.log(cur);\n    return acc;\n  }, {});\n\n  console.log(account, historyMatchs, a); // }, [account, historyMatchs])\n\n  var initFunc =\n  /*#__PURE__*/\n  function () {\n    var _ref2 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var snapshotUsers, snapshotMatchs, _ref3, _ref4, users, matchs;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              snapshotUsers = ref.ref(\"users\").once(\"value\");\n              snapshotMatchs = ref.ref(\"historyMatch\").once(\"value\");\n              _context.next = 4;\n              return Promise.all([snapshotUsers, snapshotMatchs]);\n\n            case 4:\n              _ref3 = _context.sent;\n              _ref4 = _slicedToArray(_ref3, 2);\n              users = _ref4[0];\n              matchs = _ref4[1];\n              setAccount(Object.values(users.val()));\n              setHistoryMatchs(Object.values(matchs.val()));\n              setFecthStatus(true);\n              changeStatusProgress(false);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function initFunc() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    changeStatusProgress(true);\n    initFunc();\n  }, []);\n  if (!fecthStatus) return null;\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"animated fadeIn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(W1, {\n    account: account,\n    historyMatchs: historyMatchs,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }), React.createElement(W2, {\n    account: account,\n    historyMatchs: historyMatchs,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  })));\n};\n\nexport default Dashboard;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/persol/persol-lqmb/src/components/Dashboard/index.js"],"names":["React","useEffect","useState","firebase","W1","W2","Dashboard","changeStatusProgress","ref","database","account","setAccount","historyMatchs","setHistoryMatchs","fecthStatus","setFecthStatus","a","reduce","acc","cur","console","log","initFunc","snapshotUsers","once","snapshotMatchs","Promise","all","users","matchs","Object","values","val"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,OAAOC,EAAP,MAAe,iBAAf;AACA,OAAOC,EAAP,MAAe,iBAAf;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,OAA8B;AAAA,MAA3BC,oBAA2B,QAA3BA,oBAA2B;AAC5C,MAAMC,GAAG,GAAGL,QAAQ,CAACM,QAAT,EAAZ;;AAD4C,kBAEdP,QAAQ,CAAC,EAAD,CAFM;AAAA;AAAA,MAErCQ,OAFqC;AAAA,MAE5BC,UAF4B;;AAAA,mBAGFT,QAAQ,EAHN;AAAA;AAAA,MAGrCU,aAHqC;AAAA,MAGtBC,gBAHsB;;AAAA,mBAINX,QAAQ,CAAC,KAAD,CAJF;AAAA;AAAA,MAIrCY,WAJqC;AAAA,MAIxBC,cAJwB,kBAM5C;;;AACA,MAAMC,CAAC,GAAG,mBAAIN,OAAJ,EAAaO,MAAb,CAAoB,UAACC,GAAD,EAAMC,GAAN,EAAc;AACxCC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,WAAOD,GAAP;AACH,GAHS,EAGP,EAHO,CAAV;;AAKAE,EAAAA,OAAO,CAACC,GAAR,CAAYX,OAAZ,EAAqBE,aAArB,EAAoCI,CAApC,EAZ4C,CAa5C;;AAEA,MAAMM,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AACPC,cAAAA,aADO,GACSf,GAAG,CAACA,GAAJ,CAAQ,OAAR,EAAiBgB,IAAjB,CAAsB,OAAtB,CADT;AAEPC,cAAAA,cAFO,GAEUjB,GAAG,CAACA,GAAJ,CAAQ,cAAR,EAAwBgB,IAAxB,CAA6B,OAA7B,CAFV;AAAA;AAAA,qBAGiBE,OAAO,CAACC,GAAR,CAAY,CAACJ,aAAD,EAAgBE,cAAhB,CAAZ,CAHjB;;AAAA;AAAA;AAAA;AAGNG,cAAAA,KAHM;AAGCC,cAAAA,MAHD;AAIblB,cAAAA,UAAU,CAACmB,MAAM,CAACC,MAAP,CAAcH,KAAK,CAACI,GAAN,EAAd,CAAD,CAAV;AACAnB,cAAAA,gBAAgB,CAACiB,MAAM,CAACC,MAAP,CAAcF,MAAM,CAACG,GAAP,EAAd,CAAD,CAAhB;AACAjB,cAAAA,cAAc,CAAC,IAAD,CAAd;AACAR,cAAAA,oBAAoB,CAAC,KAAD,CAApB;;AAPa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAARe,QAAQ;AAAA;AAAA;AAAA,KAAd;;AAUArB,EAAAA,SAAS,CAAC,YAAM;AACZM,IAAAA,oBAAoB,CAAC,IAAD,CAApB;AACAe,IAAAA,QAAQ;AACX,GAHQ,EAGN,EAHM,CAAT;AAKA,MAAI,CAACR,WAAL,EAAkB,OAAO,IAAP;AAClB,SAAQ,0CACJ;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,EAAD;AAAI,IAAA,OAAO,EAAEJ,OAAb;AAAsB,IAAA,aAAa,EAAEE,aAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,oBAAC,EAAD;AAAI,IAAA,OAAO,EAAEF,OAAb;AAAsB,IAAA,aAAa,EAAEE,aAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADI,CAAR;AAMH,CArCD;;AAuCA,eAAeN,SAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport firebase from \"./../../config\";\r\nimport W1 from './components/W1';\r\nimport W2 from './components/W2';\r\n\r\nconst Dashboard = ({ changeStatusProgress }) => {\r\n    const ref = firebase.database();\r\n    const [account, setAccount] = useState([])\r\n    const [historyMatchs, setHistoryMatchs] = useState()\r\n    const [fecthStatus, setFecthStatus] = useState(false)\r\n\r\n    // useEffect(() => {\r\n    const a = [...account].reduce((acc, cur) => {\r\n        console.log(cur)\r\n        return acc\r\n    }, {})\r\n\r\n    console.log(account, historyMatchs, a)\r\n    // }, [account, historyMatchs])\r\n\r\n    const initFunc = async () => {\r\n        const snapshotUsers = ref.ref(\"users\").once(\"value\")\r\n        const snapshotMatchs = ref.ref(\"historyMatch\").once(\"value\")\r\n        const [users, matchs] = await Promise.all([snapshotUsers, snapshotMatchs])\r\n        setAccount(Object.values(users.val()));\r\n        setHistoryMatchs(Object.values(matchs.val()));\r\n        setFecthStatus(true)\r\n        changeStatusProgress(false)\r\n    }\r\n\r\n    useEffect(() => {\r\n        changeStatusProgress(true)\r\n        initFunc();\r\n    }, [])\r\n\r\n    if (!fecthStatus) return null\r\n    return (<>\r\n        <div className=\"animated fadeIn\">\r\n            <W1 account={account} historyMatchs={historyMatchs} />\r\n            <W2 account={account} historyMatchs={historyMatchs} />\r\n        </div>\r\n    </>)\r\n}\r\n\r\nexport default Dashboard"]},"metadata":{},"sourceType":"module"}