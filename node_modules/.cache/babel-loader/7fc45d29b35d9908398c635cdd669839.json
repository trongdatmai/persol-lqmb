{"ast":null,"code":"\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\nvar _possibleConstructorReturn = require(\"/Users/maidat/Desktop/team-lq/persol-lqmb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/Users/maidat/Desktop/team-lq/persol-lqmb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nvar _inherits = require(\"/Users/maidat/Desktop/team-lq/persol-lqmb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _classCallCheck = require(\"/Users/maidat/Desktop/team-lq/persol-lqmb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/maidat/Desktop/team-lq/persol-lqmb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tls_helpers_1 = require(\"./tls-helpers\");\n\nvar ServerCredentials =\n/*#__PURE__*/\nfunction () {\n  function ServerCredentials() {\n    _classCallCheck(this, ServerCredentials);\n  }\n\n  _createClass(ServerCredentials, null, [{\n    key: \"createInsecure\",\n    value: function createInsecure() {\n      return new InsecureServerCredentials();\n    }\n  }, {\n    key: \"createSsl\",\n    value: function createSsl(rootCerts, keyCertPairs) {\n      var checkClientCertificate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      if (rootCerts !== null && !Buffer.isBuffer(rootCerts)) {\n        throw new TypeError('rootCerts must be null or a Buffer');\n      }\n\n      if (!Array.isArray(keyCertPairs)) {\n        throw new TypeError('keyCertPairs must be an array');\n      }\n\n      if (typeof checkClientCertificate !== 'boolean') {\n        throw new TypeError('checkClientCertificate must be a boolean');\n      }\n\n      var cert = [];\n      var key = [];\n\n      for (var i = 0; i < keyCertPairs.length; i++) {\n        var pair = keyCertPairs[i];\n\n        if (pair === null || typeof pair !== 'object') {\n          throw new TypeError(\"keyCertPair[\".concat(i, \"] must be an object\"));\n        }\n\n        if (!Buffer.isBuffer(pair.private_key)) {\n          throw new TypeError(\"keyCertPair[\".concat(i, \"].private_key must be a Buffer\"));\n        }\n\n        if (!Buffer.isBuffer(pair.cert_chain)) {\n          throw new TypeError(\"keyCertPair[\".concat(i, \"].cert_chain must be a Buffer\"));\n        }\n\n        cert.push(pair.cert_chain);\n        key.push(pair.private_key);\n      }\n\n      return new SecureServerCredentials({\n        ca: rootCerts || tls_helpers_1.getDefaultRootsData() || undefined,\n        cert: cert,\n        key: key,\n        requestCert: checkClientCertificate,\n        ciphers: tls_helpers_1.CIPHER_SUITES\n      });\n    }\n  }]);\n\n  return ServerCredentials;\n}();\n\nexports.ServerCredentials = ServerCredentials;\n\nvar InsecureServerCredentials =\n/*#__PURE__*/\nfunction (_ServerCredentials) {\n  _inherits(InsecureServerCredentials, _ServerCredentials);\n\n  function InsecureServerCredentials() {\n    _classCallCheck(this, InsecureServerCredentials);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(InsecureServerCredentials).apply(this, arguments));\n  }\n\n  _createClass(InsecureServerCredentials, [{\n    key: \"_isSecure\",\n    value: function _isSecure() {\n      return false;\n    }\n  }, {\n    key: \"_getSettings\",\n    value: function _getSettings() {\n      return null;\n    }\n  }]);\n\n  return InsecureServerCredentials;\n}(ServerCredentials);\n\nvar SecureServerCredentials =\n/*#__PURE__*/\nfunction (_ServerCredentials2) {\n  _inherits(SecureServerCredentials, _ServerCredentials2);\n\n  function SecureServerCredentials(options) {\n    var _this;\n\n    _classCallCheck(this, SecureServerCredentials);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SecureServerCredentials).call(this));\n    _this.options = options;\n    return _this;\n  }\n\n  _createClass(SecureServerCredentials, [{\n    key: \"_isSecure\",\n    value: function _isSecure() {\n      return true;\n    }\n  }, {\n    key: \"_getSettings\",\n    value: function _getSettings() {\n      return this.options;\n    }\n  }]);\n\n  return SecureServerCredentials;\n}(ServerCredentials);","map":null,"metadata":{},"sourceType":"script"}