{"ast":null,"code":"import _objectSpread from\"/Users/maidat/Desktop/untitled folder/persol-lqmb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/maidat/Desktop/untitled folder/persol-lqmb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _slicedToArray from\"/Users/maidat/Desktop/untitled folder/persol-lqmb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Button,Card,CardBody,CardGroup,Col,Container,Form,Input,InputGroup,InputGroupAddon,InputGroupText,Row}from\"reactstrap\";import firebase from'./../../../config';import{useHistory,Link}from'react-router-dom';var styleExists={color:'#FF3300',display:'block'};var Login=function Login(){var history=useHistory();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),account=_useState2[0],setAccount=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),err=_useState4[0],setErr=_useState4[1];var handleLogin=function handleLogin(){var ref=firebase.database();ref.ref(\"users\").orderByChild(\"username\").equalTo(account.username).on(\"value\",function _callee(snapshot){var _Object$values,_Object$values2,acc;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(snapshot.val()===null){setErr(true);}else{_Object$values=Object.values(snapshot.val()),_Object$values2=_slicedToArray(_Object$values,1),acc=_Object$values2[0];if(acc.password===account.password){setErr(false);localStorage.setItem('account',JSON.stringify(account));history.push('/match/history-matchs');}else{setErr(true);}}case 1:case\"end\":return _context.stop();}}});});};return React.createElement(\"div\",{className:\"app flex-row align-items-center\"},React.createElement(Container,null,React.createElement(Row,{className:\"justify-content-center\"},React.createElement(Col,{md:\"8\"},React.createElement(CardGroup,null,React.createElement(Card,{className:\"p-4\"},React.createElement(CardBody,null,React.createElement(Form,null,React.createElement(\"h1\",null,\"Login\"),React.createElement(\"p\",{className:\"text-muted\"},\"Sign In to your account\"),React.createElement(\"p\",{style:err?styleExists:{display:'none'}},\"Login fail!\"),React.createElement(InputGroup,{className:\"mb-3\"},React.createElement(InputGroupAddon,{addonType:\"prepend\"},React.createElement(InputGroupText,null,React.createElement(\"i\",{className:\"icon-user\"}))),React.createElement(Input,{type:\"text\",placeholder:\"Username\",autoComplete:\"username\",value:setAccount.username,onChange:function onChange(_ref){var value=_ref.target.value;return setAccount(function(prev){return _objectSpread({},prev,{username:value});});}})),React.createElement(InputGroup,{className:\"mb-4\"},React.createElement(InputGroupAddon,{addonType:\"prepend\"},React.createElement(InputGroupText,null,React.createElement(\"i\",{className:\"icon-lock\"}))),React.createElement(Input,{type:\"password\",placeholder:\"Password\",autoComplete:\"current-password\",value:setAccount.password,onChange:function onChange(_ref2){var value=_ref2.target.value;return setAccount(function(prev){return _objectSpread({},prev,{password:value});});}})),React.createElement(Row,null,React.createElement(Col,{xs:\"6\"},React.createElement(Button,{color:\"primary\",className:\"px-4\",onClick:handleLogin},\"Login\")),React.createElement(Col,{xs:\"6\",className:\"text-right\"},React.createElement(Button,{color:\"link\",className:\"px-0\"},\"Forgot password?\"),React.createElement(Link,{to:\"/register\"},React.createElement(Button,{color:\"link\",className:\"px-0\"},\"Register Now\"))))))),React.createElement(Card,{className:\"text-white bg-primary py-5 d-md-down-none\",style:{width:\"44%\"}},React.createElement(CardBody,{className:\"text-center\"},React.createElement(\"div\",null,React.createElement(\"h2\",null,\"Sign up\"),React.createElement(\"p\",null,\"Sign up for an account if you don't already have one\"),React.createElement(Link,{to:\"/register\"},React.createElement(Button,{color:\"primary\",className:\"mt-3\",active:true,tabIndex:-1},\"Register Now!\"))))))))));};export default Login;","map":{"version":3,"sources":["/Users/maidat/Desktop/untitled folder/persol-lqmb/src/views/Pages/Login/Login.js"],"names":["React","useState","Button","Card","CardBody","CardGroup","Col","Container","Form","Input","InputGroup","InputGroupAddon","InputGroupText","Row","firebase","useHistory","Link","styleExists","color","display","Login","history","account","setAccount","err","setErr","handleLogin","ref","database","orderByChild","equalTo","username","on","snapshot","val","Object","values","acc","password","localStorage","setItem","JSON","stringify","push","value","target","prev","width"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport {\n  Button,\n  Card,\n  CardBody,\n  CardGroup,\n  Col,\n  Container,\n  Form,\n  Input,\n  InputGroup,\n  InputGroupAddon,\n  InputGroupText,\n  Row\n} from \"reactstrap\";\nimport firebase from './../../../config';\nimport { useHistory, Link } from 'react-router-dom';\nconst styleExists = { color: '#FF3300', display: 'block' }\n\nconst Login = () => {\n  const history = useHistory();\n  const [account, setAccount] = useState({});\n  const [err, setErr] = useState(false);\n  const handleLogin = () => {\n    const ref = firebase.database();\n    ref\n      .ref(\"users\")\n      .orderByChild(\"username\")\n      .equalTo(account.username)\n      .on(\"value\", async snapshot => {\n        if (snapshot.val() === null) {\n          setErr(true)\n        } else {\n          const [acc] = Object.values(snapshot.val())\n          if(acc.password === account.password) {\n            setErr(false)\n            localStorage.setItem('account', JSON.stringify(account));\n            history.push('/match/history-matchs');\n          } else {\n            setErr(true)\n          }\n        }\n      });\n  }\n\n  return (\n    <div className=\"app flex-row align-items-center\">\n      <Container>\n        <Row className=\"justify-content-center\">\n          <Col md=\"8\">\n            <CardGroup>\n              <Card className=\"p-4\">\n                <CardBody>\n                  <Form>\n                    <h1>Login</h1>\n                    <p className=\"text-muted\">Sign In to your account</p>\n                    <p style={err ? styleExists : {display: 'none'} } >Login fail!</p>\n                    <InputGroup className=\"mb-3\">\n                      <InputGroupAddon addonType=\"prepend\">\n                        <InputGroupText>\n                          <i className=\"icon-user\"></i>\n                        </InputGroupText>\n                      </InputGroupAddon>\n                      <Input\n                        type=\"text\"\n                        placeholder=\"Username\"\n                        autoComplete=\"username\"\n                        value={setAccount.username}\n                        onChange={({ target: {value}}) => setAccount(prev => ({...prev, username: value}))}\n                      />\n                    </InputGroup>\n                    <InputGroup className=\"mb-4\">\n                      <InputGroupAddon addonType=\"prepend\">\n                        <InputGroupText>\n                          <i className=\"icon-lock\"></i>\n                        </InputGroupText>\n                      </InputGroupAddon>\n                      <Input\n                        type=\"password\"\n                        placeholder=\"Password\"\n                        autoComplete=\"current-password\"\n                        value={setAccount.password}\n                        onChange={({ target: {value}}) => setAccount(prev => ({...prev, password: value}))}\n                      />\n                    </InputGroup>\n                    <Row>\n                      <Col xs=\"6\">\n                        <Button color=\"primary\" className=\"px-4\" onClick={handleLogin}>\n                          Login\n                        </Button>\n                      </Col>\n                      <Col xs=\"6\" className=\"text-right\">\n                        <Button color=\"link\" className=\"px-0\">\n                          Forgot password?\n                        </Button>\n                        <Link to=\"/register\">\n                        <Button color=\"link\" className=\"px-0\">\n                          Register Now\n                        </Button>\n                    </Link>\n                        \n                      </Col>\n                    </Row>\n                  </Form>\n                </CardBody>\n              </Card>\n              <Card\n                className=\"text-white bg-primary py-5 d-md-down-none\"\n                style={{ width: \"44%\" }}\n              >\n                <CardBody className=\"text-center\">\n                  <div>\n                    <h2>Sign up</h2>\n                    <p>Sign up for an account if you don't already have one</p>\n                    <Link to=\"/register\">\n                      <Button\n                        color=\"primary\"\n                        className=\"mt-3\"\n                        active\n                        tabIndex={-1}\n                      >\n                        Register Now!\n                      </Button>\n                    </Link>\n                  </div>\n                </CardBody>\n              </Card>\n            </CardGroup>\n          </Col>\n        </Row>\n      </Container>\n    </div>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}